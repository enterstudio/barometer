/*! barometer v1.4.0 */
!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var a=window.barometer=e.exports={},r=n(2),i=n(6),o=n(8);n(7),n(3),n(9),a.url=null,a.offset=o.offset,a.gauge=r.gauge,a.count=r.count,a.onPageChanged=i.onPageChanged,a.oncePageLoaded=i.oncePageLoaded},function(e,t,n){"use strict";var a=e.exports={},r=n(3),i=n(1);a.url="XXXXX",a.e=function(){a.buffer={gauges:{},counters:{}},a.bufferSize=0},a.e(),a.count=function(e){a.buffer.counters[e]=a.buffer.counters[e]||0,a.buffer.counters[e]++,a.t(),a.bufferSize++,window.barometer.debug&&console.log("count",e)},a.gauge=function(e,t){a.buffer.gauges[e]=a.buffer.gauges[e]||[],a.buffer.gauges[e].push(t),a.t(),a.bufferSize++,window.barometer.debug&&console.log("gauge",e,t)};var o=null;a.t=function(){o&&a.bufferSize<100&&clearTimeout(o),o=setTimeout(a.n,5e3)},a.n=function(e){if(0!==a.bufferSize&&i.url){o&&(clearTimeout(o),o=null);var t=a.buffer;a.e();var n=i.url;if(navigator.sendBeacon)navigator.sendBeacon(n,JSON.stringify(t));else{var u=new r.a;u.open("POST",n,!0),u.timeout=4e3,u.setRequestHeader("Content-Type","application/json"),u.send(JSON.stringify(t))}}}},function(e,t,n){"use strict";var a=e.exports={},r=n(4),i=n(2),o=n(5);a.a=window.XMLHttpRequest;var u=["unsent","opened","headers_received","loading","done"];a.r=function(e){return"xhr."+e},a.i=function(e,t){var n={};for(var a in e)"_"!==a[0]&&0!==e[a]&&(n[a]=e[a]-t);return n},a.o=function(e){var t,n,r=o(e.url),u=a.i(e.readyStateTimes,e.offset);for(var s in u)t="timing."+e.type+"."+r+"."+s,n=a.r(t),i.gauge(n,u[s]);t="responses."+e.type+"."+r+"."+e.request.status,n=a.r(t),i.count(n),t="size."+e.type+"."+r+"."+e.request.status,n=a.r(t),i.gauge(n,(e.request.responseText||"").length)},window.XMLHttpRequest=function(){var e,t,n,i=new a.a,o={},s=i.open;return r(i,"readystatechange",function(){o[u[i.readyState]]=new Date}),r(i,"loadend",function(r){setTimeout(function(){return o.processed=new Date,a.o({type:t.toLowerCase(),url:n,readyStateTimes:o,offset:e,request:i})},0)}),i.open=function(a,r){return e=new Date,t=a,n=r,s.apply(i,arguments)},i}},function(e,t){"use strict";e.exports=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},function(e,t){"use strict";e.exports=function(e,t){var n=(e||"").split("?")[0];return n=n.replace(/^https?:\/\//i,""),"/"===n[0]?n=(window.location.host||"").replace(/[^a-z0-9-\/]/gi,"_")+"."+n.slice(1).replace(/[^a-z0-9-\/]/gi,"_"):(n=n.split("/"),n=n.shift().replace(/[^a-z0-9-\/]/gi,"_")+"."+n.join("/").replace(/[^a-z0-9-\/]/gi,"_")),(t||"").match(/\?/)&&(n+=t.split("?")[0].slice(1).replace(/[^a-z0-9-]/gi,"_")),n}},function(e,t,n){"use strict";var a,r,i,o=e.exports={},u=n(4),s=n(7),c=n(2),f=n(1),g=0,l=[];o.u=function(){c.gauge(r,new Date-a)},o.s=function(){var e=new Date;f.pageStartedAt=e,c.count(s.r("visits")),a&&o.u(),g++;var t=g,n=0,u=[9,9,9,9,9],p=!1,d=25,v=s.r("dynamic"),w=function(){clearTimeout(m),i=!0,a=new Date,r=s.r("engagement");var t=125;c.gauge(v,new Date-e-t);for(var n=0;n<l.length;n++)l[n]()},m=setTimeout(function(){if(p=!0,1===g)for(var e=0;e<l.length;e++)l[e]()},6e3),h=function(){var e=new Date;setTimeout(function(){var a=new Date,r=a-e-d;if(r>n&&(n=r),!p){if(t!==g)return w();u.shift(),u.push(r);for(var i=0,o=0;o<5;o++)i+=u[o];return i<5&&n>25?w():void setTimeout(h,d)}},d)};h()},o.s(),window.history?(u(window,"popstate",o.s),function(e){if(e){var t=e.pushState;e.pushState=function(){return o.s(),t.apply(e,arguments)}}}(window.history)):u(window,"hashchange",o.s),o.onPageChanged=function(e){l.push(e)},o.oncePageLoaded=function(e){if(i)return e();var t=!1;o.onPageChanged(function(){t||(t=!0,e())})}},function(e,t,n){"use strict";var a=e.exports={},r=n(4),i=n(1),o=n(2),u=n(5);a.i=function(e){var t={},n=e.navigationStart;e.toJSON&&(e=e.toJSON());for(var a in e)"navigationStart"!==a&&0!==e[a]&&(t[a]=e[a]-n);return 0!==e.navigationStart&&(t.timeToFirstScript=i.pageStartedAt-e.navigationStart),t},a.r=function(e){var t=u(window.location.href,window.location.hash);return"pageload."+t+"."+e.replace(/[^a-z0-9-]/gi,"_")},a.f=function(){var e,t=window.performance.timing||{},n=a.i(t);for(var r in n)e=a.r(r),o.gauge(e,n[r]);var i=(window.performance.navigation||{}).redirectCount||0;e=a.r("redirects"),o.gauge(e,i)},"object"==typeof window.performance&&("complete"===document.readyState?a.f():r(window,"load",a.f))},function(e,t,n){"use strict";var a=e.exports={},r=n(1),i=n(5),o=n(2);a.offset=function(e){var t=new Date-r.pageStartedAt,n=i(window.location.href,window.location.hash),a="pageload."+n+"."+e.replace(/[^a-z0-9-]/gi,"_");o.gauge(a,t)}},function(e,t,n){"use strict";var a=e.exports={},r=n(6),i=n(2),o=0;a.handleResource=function(e){var t=a.findRule(e);t&&a.track(e,t)},a.findRule=function(e){var t=window.barometer.resources;if(t){for(var n=e.name.replace(/https?:\/\//i,"").split("/"),a=n.shift(),r=n.join("/"),i=0;i<t.length;i++){var o=t[i];if((!o.domain||a.match(o.domain))&&(!o.path||r.match(o.path)))return o}return null}},a.track=function(e,t){var n=e.name.replace(/https?:\/\//i,"").split("/"),a="resources.";a+=n.shift().replace(/[^a-z0-9_]/gi,"_"),a+=".",a+=(t.rename||n.join("/")).split("?")[0].replace(/[^a-z0-9_]/gi,"_");for(var r in t.metrics){r=t.metrics[r];var o=e[r];0!==o&&i.gauge(a+"."+r,o)}},a.initialise=function(){window.performance&&window.performance.getEntries&&r.onPageChanged(function(){var e=window.performance.getEntries();if(e&&e.length)for(;o<e.length;o++)a.handleResource(e[o])})},a.initialise()}]);